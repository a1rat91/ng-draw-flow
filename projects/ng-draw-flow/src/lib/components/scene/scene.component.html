<ng-container *ngFor="let node of model?.nodes; trackBy: trackByNodeId">
    <df-node
        [invalid]="$invalidNodes().includes(node.id)"
        [node]="node"
        (connectorDeleted)="onConnectorDeleted($event)"
        (nodeDeleted)="onNodeDeleted(node.id)"
        (nodeMoved)="onNodeMoved($event)"
        (nodeSelected)="onNodeSelected($event)"
    />
</ng-container>

<ng-container *ngFor="let connection of model?.connections; trackBy: trackByConnectionsFn">
    <df-connection
        [connection]="connection"
        (connectionDeleted)="onConnectionDeleted(connection)"
        (connectionSelected)="connectionSelected.emit(connection)"
    />
</ng-container>

<df-draft-connection
    *ngIf="isConnectionCreating$ | async"
    (connectionCreated)="onConnectionCreated($event)"
/>
